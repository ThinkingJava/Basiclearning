### 1、面试题

- 事务的几个特点是什么？

- 数据库事务有哪些隔离级别？

- MySQL的默认隔离级别？

  

### 2、面试官心里分析

用mysql开发的三个基本面：存储引擎、索引，然后就是事务，你必须得用事务。

因为一个业务系统里，肯定要加事务保证一堆关联操作，要么一起成功要么一起失败，对不对？所以这是聊数据库必问的一个问题

最最最基本的用mysql来开发，就3点：存储引擎（了解），索引（能建索引，写的SQL都用上索引），事务（了解事务的隔离级别，基于spring的事务支持在代码里加事务） 

存储引擎 -> innodb，索引，基本按照你的SQL的需求都建了索引（可能漏了部分索引忘了建），事务（@Transactional注解，对service层统一加了事务）

### 3、面试题解剖

#### 3.1 事务的ACID

（1） Atomic：原子性，就是一堆SQL，要么一起成功，要么都别执行，不允许某个SQL成功了，某个SQL失败了，这就是扯淡，不是原子性。

（2） Consistency：一致性，这个是针对数据一致性来说的，就是一组SQL执行之前，数据必须是准确的，执行之后，数据也必须是准确的。别搞了半天，执行完了sql，结果sql对应的数据修改没给你执行，那不是坑爹么。

（3）Isolation：隔离性，这个就是说多个事务在跑的时候不能互相干扰，别事务A操作个数据，弄到一半儿还没弄好呢，结果事务B来改了这个数据，导致事务A的操作出错了，那不就搞笑了。

（4）Durability：持久性，事务成功了，就必须永久对数据的修改是有效的，别过了一会儿数据自己没了，不见了，那就好玩儿了。

#### 3.2事务隔离级别

总之，面试问你事务，先聊一下ACID，然后聊聊隔离级别

（1）读未提交，Read Uncommitted：这个很坑爹，就是说某个事务还没提交的时候，修改的数据，就让别的事务给读到了，这就恶心了，很容易导致出错的。这个也叫做脏读。

（2）读已提交，Read Committed（不可重复读）：这个比上面那个稍微好一点，但是一样比较尴尬

就是说事务A在跑的时候， 先查询了一个数据是值1，然后过了段时间，事务B把那个数据给修改了一下还提交了，此时事务A再次查询这个数据就成了值2了，这是读了人家事务提交的数据啊，所以是读已提交。

这个也叫做不可重复读，就是所谓的一个事务内对一个数据两次读，可能会读到不一样的值。如图：

![image](data:image/png;base64,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)

（3）可重复读，Read Repeatable：这个比上面那个再好点儿，就是说事务A在执行过程中，对某个数据的值，无论读多少次都是值1；哪怕这个过程中事务B修改了数据的值还提交了，但是事务A读到的还是自己事务开始时这个数据的值。如图：

![image](data:image/png;base64,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)

（4）幻读：不可重复读和可重复读都是针对两个事务同时对某条数据在修改，但是幻读针对的是插入

比如某个事务把所有行的某个字段都修改为了2，结果另外一个事务插入了一条数据，那个字段的值是1，然后就尴尬了。第一个事务会突然发现多出来一条数据，那个数据的字段是1。

那么幻读会带来啥问题呢？因为在此隔离级别下，例如：事务1要插入一条数据，我先查询一下有没有相同的数据，但是这时事务2添加了这条数据，这就会导致事务1插入失败，并且它就算再一次查询，也无法查询到与其插入相冲突的数据，同时自身死活都插入不了，这就不是尴尬，而是囧了。

（5）串行化：如果要解决幻读，就需要使用串行化级别的隔离级别，所有事务都串行起来，不允许多个事务并行操作。如图：

![image](data:image/png;base64,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)

（6）MySQL的默认隔离级别是Read Repeatable，就是可重复读，就是说每个事务都会开启一个自己要操作的某个数据的快照，事务期间，读到的都是这个数据的快照罢了，对一个数据的多次读都是一样的。

 接下来我们聊下MySQL是如何实现Read Repeatable的吧，因为一般我们都不修改这个隔离级别，但是你得清楚是怎么回事儿，MySQL是通过MVCC机制来实现的，就是多版本并发控制，multi-version concurrency control。

当我们使用innodb存储引擎，会在每行数据的最后加两个隐藏列，一个保存行的创建时间，一个保存行的删除时间，但是这儿存放的不是时间，而是事务id，事务id是mysql自己维护的自增的，全局唯一。

事务id，在mysql内部是全局唯一递增的，事务id=1，事务id=2，事务id=3

| id   | name   | 创建事务id | 删除事务id |
| ---- | ------ | ---------- | ---------- |
| 1    | 张三   | 120        | 122        |
| 2    | 李四   | 119        | 空         |
| 2    | 小李四 | 122        | 空         |

事务id=121的事务，查询id=1的这一行的时候，一定会找到创建事务id <= 当前事务id的那一行

select * from table where id=1，就可以查到上面那一行

事务id=122的事务，将id=1的这一行给删除了，此时就会将id=1的行的删除事务id设置成122

事务id=121的事务，再次查询id=1的那一行，能查到吗？

能查到，要求创建事务id <= 当前事务id，当前事务id < 删除事务id

事务id=121的事务，查询id=2的那一行，查到name=李四

事务id=122的事务，将id=2的那一行的name修改成name=小李四

事务id=121的事务，查询id=2的那一行，答案是：李四，创建事务id <= 当前事务id，当前事务id < 删除事务id

在一个事务内查询的时候，mysql只会查询创建时间的事务id小于等于当前事务id的行，这样可以确保这个行是在当前事务中创建，或者是之前创建的；

同时一个行的删除时间的事务id要么没有定义（就是没删除），要么是必当前事务id大（在事务开启之后才被删除）；满足这两个条件的数据都会被查出来。

那么如果某个事务执行期间，别的事务更新了一条数据呢？这个很关键的一个实现，其实就是在innodb中，是插入了一行记录，然后将新插入的记录的创建时间设置为新的事务的id，同时将这条记录之前的那个版本的删除时间设置为新的事务的id。

现在get到这个点了吧？这样的话，你的这个事务其实对某行记录的查询，始终都是查找的之前的那个快照，因为之前的那个快照的创建时间小于等于自己事务id，然后删除时间的事务id比自己事务id大，所以这个事务运行期间，会一直读取到这条数据的同一个版本。

记住，聊到事务隔离级别，必须把这套东西给喷出来，尤其是mvcc，说实话，市面上相当大比重的java程序员，对mvcc是不了解的。