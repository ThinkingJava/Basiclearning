fork耗时问题定位：对于高流量的Redis实例OPS可达5万以上，如果fork
操作耗时在秒级别将拖慢Redis几万条命令执行，对线上应用延迟影响非常
明显。正常情况下fork耗时应该是每GB消耗20毫秒左右。可以在info stats统
计中查latest_fork_usec指标获取最近一次fork操作耗时，单位微秒。

如何改善fork操作的耗时：
1）优先使用物理机或者高效支持fork操作的虚拟化技术，避免使用
Xen。
2）控制Redis实例最大可用内存，fork耗时跟内存量成正比，线上建议
每个Redis实例内存控制在10GB以内。
3）合理配置Linux内存分配策略，避免物理内存不足导致fork失败，具
体细节见12.1节“Linux配置优化”。
4）降低fork操作的频率，如适度放宽AOF自动触发时机，避免不必要
的全量复制等。